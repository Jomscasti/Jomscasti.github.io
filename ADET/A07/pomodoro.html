<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pomodoro Timer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link href="shared/style.css" rel="stylesheet">
    <link rel="icon" href="images/nav-logo.png">
</head>

<body>
    <div class="container my-4">
        <div class="card text-center shadow border-0"
            style="border-radius: 1.5rem; background: linear-gradient(145deg, #f8f9fa, #e0e0e0);">
            <div class="card-header text-white"
                style="background: linear-gradient(135deg, #1e3c72, #2a5298); border-radius: 1.5rem 1.5rem 0 0;">
                <div class="d-flex justify-content-between align-items-center">
                    <h4 class="mb-0 text-uppercase fw-bold">Pomodoro Timer</h4>
                    <button class="btn btn-sm custom-button content" data-bs-toggle="modal"
                        data-bs-target="#settingsModal">
                        ⚙ Settings
                    </button>
                </div>
            </div>
            <div class="card-body py-4">
                <!-- Mode Selection -->
                <div class="btn-group mb-4" role="group">
                    <button id="study-btn" class="btn mode-button" onclick="setMode('study')">Study</button>
                    <button id="short-btn" class="btn mode-button" onclick="setMode('short')">Short Break</button>
                    <button id="long-btn" class="btn mode-button" onclick="setMode('long')">Long Break</button>
                </div>

                <!-- Timer Display -->
                <h1 id="timer-display" class="display-3 fw-bold mb-4" style="color: #1e3c72;">25:00</h1>

                <!-- Controls -->
                <div class="d-flex justify-content-center gap-3">
                    <button class="btn custom-button shadow-sm" onclick="startTimer()">Start</button>
                    <button class="btn custom-button shadow-sm" onclick="pauseTimer()">Pause</button>
                    <button class="btn custom-button shadow-sm" onclick="resetTimer()">Reset</button>
                </div>
                <p class="mt-4 text-muted small">Customize time, alarm and background sounds via ⚙ Settings</p>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content rounded-4">
                <div class="modal-header" style="background: linear-gradient(135deg, #1e3c72, #2a5298); color: white;">
                    <h5 class="modal-title">Pomodoro Settings</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="settingsForm">
                        <div class="mb-3">
                            <label for="studyTime" class="form-label">Study Time (minutes)</label>
                            <input type="number" class="form-control" id="studyTime" value="25" min="1">
                        </div>
                        <div class="mb-3">
                            <label for="shortBreakTime" class="form-label">Short Break (minutes)</label>
                            <input type="number" class="form-control" id="shortBreakTime" value="5" min="1">
                        </div>
                        <div class="mb-3">
                            <label for="longBreakTime" class="form-label">Long Break (minutes)</label>
                            <input type="number" class="form-control" id="longBreakTime" value="15" min="1">
                        </div>
                        <div class="mb-3">
                            <label for="alarmSound" class="form-label">Alarm Sound</label>
                            <select class="form-select" id="alarmSound">
                                <option value="bell">Bell</option>
                                <option value="ding">Ding</option>
                                <option value="alarm">Alarm</option>
                            </select>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="bgSoundToggle">
                            <label class="form-check-label" for="bgSoundToggle">Background Sound</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn custom-button" data-bs-dismiss="modal"
                        onclick="applySettings()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <audio id="alarmAudio" src="assets/sounds/bell.mp3" preload="auto"></audio>
    <audio id="bgAudio" src="assets/sounds/background.mp3" loop></audio>

    <script src="shared/script.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous">
        </script>

</body>

</html>